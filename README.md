# KeywordReply2

## 功能说明

该功能可以设置关键词触发自动回复,支持群聊使用。需要管理员权限才能进行关键词的添加、删除等管理操作。

与一代相比，二代的逻辑为对同一词库进行管理，可以对不同群开启或关闭本词库的关键词回复。

## 管理命令

### 关键词管理

| 命令格式                    | 示例                      | 说明                 |
| --------------------------- | ------------------------- | -------------------- |
| `kr2add关键词 回复内容`     | kr2add 关键词 回复内容    | 添加或更新关键词回复 |
| `添加关键词关键词 回复内容` | 添加关键词关键词 回复内容 | 同上,中文命令版本    |
| `kr2del关键词`              | kr2del 关键词             | 删除指定关键词       |
| `删除关键词关键词`          | 删除关键词关键词          | 同上,中文命令版本    |

注意: 关键词和回复内容之间**需要**用空格分隔，命令和关键词之间**不需要空格**

### 群聊管理

| 命令格式          | 示例              | 说明               |
| ----------------- | ----------------- | ------------------ |
| `kr2addgroup群号` | kr2addgroup123456 | 添加群到开启列表   |
| `添加群号群号`    | 添加群号 123456   | 同上,中文命令版本  |
| `kr2delgroup群号` | kr2delgroup123456 | 从开启列表移除群   |
| `删除群号群号`    | 删除群号 123456   | 同上,中文命令版本  |
| `kr2listgroup`    | kr2listgroup      | 查看已开启的群列表 |
| `查看群号`        | 查看群号          | 同上,中文命令版本  |

## 数据存储

### 关键词数据库(keyword_reply.db)

- 表名: keyword_replies
- 结构:
  - keyword: TEXT (主键,关键词)
  - reply: TEXT (回复内容)

### 群号数据库(groups.db)

- 表名: groups
- 结构:
  - group_id: TEXT (主键,群号)

## 使用说明

1. 只有管理员可以使用管理命令
2. 关键词匹配采用完全匹配(不区分大小写)
3. 群聊需要先添加到开启列表才能使用关键词回复功能
4. 触发关键词后会自动带上消息引用回复

## 注意事项

1. 关键词为唯一值,重复添加会覆盖原有内容
2. 回复内容支持换行
3. 建议定期备份数据库文件
